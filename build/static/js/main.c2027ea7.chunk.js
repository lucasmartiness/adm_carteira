(this["webpackJsonpapp-votacao"]=this["webpackJsonpapp-votacao"]||[]).push([[0],{119:function(e,a,t){e.exports=t(206)},206:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),o=t.n(c),l=t(107),i=t(51),u=t(253),m=Object(i.b)({form:u.a}),s=Object(i.c)(m),p=t(35),d=t(17),v=t(10),f=t(32),E=t(78),b=t.n(E);t(202);b.a.initializeApp({apiKey:"AIzaSyD49GnV25MVPCggX6231YaJWI777nZZnbI",authDomain:"app-carteira-inv.firebaseapp.com",databaseURL:"https://app-carteira-inv.firebaseio.com",projectId:"app-carteira-inv",storageBucket:"app-carteira-inv.appspot.com",messagingSenderId:"178456734181",appId:"1:178456734181:web:14b6909faa43c59338a70c"});var h=b.a,g=t(235),O=t(252),j=t(250),C=t(108),x=t(109),S=t(237),y=t(239),N=t(240),A=t(241),k=t(242),V=Object(g.a)((function(e){return{container:{margin:"10px"},card:{width:"100%"},text:{fontSize:"14px",fontWeight:"bold"},button:{width:"100%"},red:{color:"red"},blue:{color:"blue"}}})),w=function(e){var a=V(),t=Object(p.f)();return r.a.createElement(S.a,{xs:12,sm:5,md:5,lg:2,className:a.container},r.a.createElement(y.a,{className:a.button},r.a.createElement(N.a,{className:a.card},r.a.createElement(A.a,{onClick:function(){t.push("/carteira/"+e.id)}},r.a.createElement(x.a,{variant:"body2"},"Carteira"),r.a.createElement(x.a,{className:a.text,variant:"h2",color:"primary",align:"center"},e.title)),r.a.createElement(k.a,null,r.a.createElement(y.a,{onClick:e.delete,className:a.red},"Delete"),r.a.createElement(y.a,{onClick:e.update,className:a.blue},"Update")))))},z=t(243),D=Object(g.a)((function(e){return{container:{margin:"10px"},card:{width:"100%"},text:{fontSize:"25px"},button:{width:"100%"}}})),F=function(e){var a=D();return r.a.createElement(S.a,{xs:12,sm:5,md:5,lg:2,className:a.container},r.a.createElement(y.a,{className:a.button,onClick:function(){e.open()}},r.a.createElement(N.a,{className:a.card},r.a.createElement(A.a,null,r.a.createElement(x.a,{variant:"body2"},e.texto),r.a.createElement(x.a,{className:a.text,variant:"h6",align:"center"},r.a.createElement(z.a,null,"add_circle"))))))},I=t(244),R=t(245),T=Object(g.a)((function(e){return{appbar:{position:"relative"}}})),J=function(e){var a=T();return r.a.createElement(I.a,{className:a.appbar},r.a.createElement(R.a,null,r.a.createElement(x.a,null,"Carteira")))},_=t(257),U=t(246),q=t(247),P=t(256),W=(Object(g.a)((function(e){return{}})),function(e){var a=Object(n.useState)(e.nome||""),t=Object(v.a)(a,2),c=t[0],o=t[1];return Object(n.useEffect)((function(){o(e.nome)}),[e.nome]),r.a.createElement(_.a,{onClose:e.onClose,open:e.open},r.a.createElement(U.a,null,"Adicionar Uma nova carteira"),r.a.createElement(q.a,null,r.a.createElement(P.a,{placeholder:"nome",value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(y.a,{onClick:function(){e.onSave(c),o("")}}," Salvar ")))}),B=function(){return h.firestore().collection("carteira")},L=Object(g.a)((function(e){return{carteiraContainer:{padding:"20px",marginTop:"40px"},container:{margin:"auto auto"},topContainer:{display:"flex",justifyContent:"center",width:"100%"}}})),Z=Object(g.a)((function(e){return{appbar:{position:"relative"}}})),G=function(e){var a=Z();return r.a.createElement(I.a,{className:a.appbar},r.a.createElement(R.a,null,r.a.createElement(x.a,null,"Ativo")))},H=t(258),K=t(251),M=Object(g.a)((function(e){return{container:{margin:"10px"},card:{width:"100%"},text:{fontSize:"14px",fontWeight:"bold",textTransform:"capitalize"},button:{width:"100%"},cardAction:{display:"flex",justifyContent:"center"}}})),Q=function(e){var a=M(),t=Object(p.f)();return r.a.createElement(S.a,{xs:12,sm:5,md:5,lg:2,className:a.container},r.a.createElement(y.a,{className:a.button},r.a.createElement(N.a,{className:a.card},r.a.createElement(A.a,{onClick:function(){t.push(e.base)}},r.a.createElement(x.a,{variant:"body2"},"Ativo"),r.a.createElement(x.a,{className:a.text,variant:"h2",color:"primary",align:"center"},e.title)),r.a.createElement(k.a,{className:a.cardAction},r.a.createElement(y.a,{variant:"contained",color:"secondary",onClick:e.onDelete},"Deletar")))))},X=t(254),Y=t(260),$=(Object(g.a)((function(e){return{}})),function(e){var a=Object(n.useState)(e.nome||null),t=Object(v.a)(a,2),c=t[0],o=t[1],l=Object(n.useState)(e.ehAtivoVariavel||"false"),i=Object(v.a)(l,2),u=i[0],m=i[1],s=Object(n.useState)(e.rotulo||"acao"),p=Object(v.a)(s,2),d=p[0],f=p[1];return r.a.createElement(_.a,{onClose:e.onClose,open:e.open},r.a.createElement(U.a,null,"Adicionar Um novo Ativo"),r.a.createElement(q.a,null,r.a.createElement(O.a,null,r.a.createElement(P.a,{placeholder:"nome",value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(O.a,null,r.a.createElement(X.a,{value:u,onChange:function(e){return m(e.target.value)},placeholder:"Tipo de ativo"},r.a.createElement(Y.a,{value:"false"},"Renda Fixa"),r.a.createElement(Y.a,{value:"true"},"Renda Variavel"))),r.a.createElement(O.a,null,r.a.createElement(X.a,{value:d,onChange:function(e){return f(e.target.value)},placeholder:"Seu Ativo"},r.a.createElement(Y.a,{value:"acao"},"A\xe7\xe3o"),r.a.createElement(Y.a,{value:"fundo_imobiliario"},"Fundo Imobiliario"),r.a.createElement(Y.a,{value:"titulo"},"Titulo renda fixa"),r.a.createElement(Y.a,{value:"fundo_geral"},"Fundo"),r.a.createElement(Y.a,{value:"fundo_de_emergencia"},"Reserva de Emergencia"))),r.a.createElement(y.a,{onClick:function(){e.onSave({nome:c,ehAtivoVariavel:u,rotulo:d}),o("")}}," Salvar ")))}),ee=function(e){return h.firestore().collection("carteira/"+e+"/ativo")},ae=Object(g.a)((function(e){return{carteiraContainer:{padding:"20px",marginTop:"40px"},container:{}}})),te=function(e){var a=ae(),t=Object(n.useState)(),c=Object(v.a)(t,2),o=c[0],l=c[1],i=Object(n.useState)(!1),u=Object(v.a)(i,2),m=u[0],s=u[1];Object(n.useEffect)((function(){var a=ee(e.match.params.carteira).onSnapshot((function(e){l(e.docs.map((function(e){return console.log(e),Object(f.a)({id:e.id},e.data())})))}));return function(){a()}}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement($,{onClose:function(){return s(!1)},open:m,onSave:function(a){ee(e.match.params.carteira).get().then((function(e){var t=!1;if(e.forEach((function(e){console.log(e.data().nome,a.nome),e.data().nome==a.nome&&(t=!0)})),t)throw"Erro n\xe3o \xe9 possivel adicionar o ativo com o mesmo nome"})).then((function(){ee(e.match.params.carteira).doc().set(a)})).then((function(){alert("ativo adicionado"),s(!1)})).catch((function(e){return alert(e)}))}}),r.a.createElement(G,null),r.a.createElement(j.a,{className:a.container},r.a.createElement(H.a,null,r.a.createElement(K.a,{component:d.b,to:"/carteira"}," Carteira")),r.a.createElement(C.a,{className:a.carteiraContainer},r.a.createElement(x.a,{variant:"h4",component:"h1"},"Seus Ativos"),r.a.createElement(S.a,{container:!0},o&&o.map((function(a){return r.a.createElement(Q,{base:"/carteira/"+e.match.params.carteira+"/ativo/"+a.id,key:a.id,title:a.nome,id:a.id,onDelete:function(){return t=a.id,ee(e.match.params.carteira).doc(t).delete().then((function(){return alert("ativo deletado")}));var t}})})),r.a.createElement(F,{texto:"adicionar",open:function(){return s(!0)}})))))},ne=Object(g.a)((function(e){return{button:{marginLeft:"auto",display:"block",marginTop:"25px"}}})),re=function(e){var a=ne(),t=Object(n.useState)(""),c=Object(v.a)(t,2),o=c[0],l=c[1],i=Object(n.useState)("2020-10-10"),u=Object(v.a)(i,2),m=u[0],s=u[1],p=Object(n.useState)(""),d=Object(v.a)(p,2),E=d[0],b=d[1],h=Object(n.useState)("C"),g=Object(v.a)(h,2),j=g[0],C=g[1],x=Object(n.useState)(),N=Object(v.a)(x,2),A=N[0],k=N[1],V=Object(n.useState)("2020-10-20"),w=Object(v.a)(V,2),z=w[0],D=w[1];return r.a.createElement(_.a,{onClose:e.onClose,open:e.open},r.a.createElement(U.a,null,"Adicionar uma opera\xe7\xe3o ao ativo: ",e.nome),r.a.createElement(q.a,null,r.a.createElement(O.a,null,r.a.createElement(P.a,{placeholder:"Valor",value:o,onChange:function(e){return l(e.target.value)}})),r.a.createElement(O.a,null,"Data",r.a.createElement(P.a,{type:"date",placeholder:"Data",value:m,onChange:function(e){return s(e.target.value)}})),r.a.createElement(O.a,null,r.a.createElement(P.a,{type:"number",placeholder:"Quantidade",value:E,onChange:function(e){return b(e.target.value)}})),r.a.createElement(O.a,null,r.a.createElement(X.a,{value:j,onChange:function(e){return C(e.target.value)},placeholder:"Opera\xe7\xe3o"},r.a.createElement(Y.a,{value:"C"},"Comprar"),r.a.createElement(Y.a,{value:"V"},"Vender"),r.a.createElement(Y.a,{value:"D"},"Receber Proventos"),r.a.createElement(Y.a,{value:"R"},"Resgatar Juros "))),r.a.createElement(O.a,null,"false"==e.EhAtivoVariavel&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(P.a,{type:"number",placeholder:"Juros",value:A,onChange:function(e){return k(e.target.value)}})),r.a.createElement(O.a,null,"Prazo",r.a.createElement(P.a,{type:"date",placeholder:"Data",value:z,onChange:function(e){return D(e.target.value)}})))),r.a.createElement(S.a,null,r.a.createElement(y.a,{onClick:function(){var a={valor:o,data:m,qtd:E,tipoOperacao:j};"false"==e.EhAtivoVariavel&&(a=Object(f.a)({},a,{juros:A,prazo:z})),e.onSave(a)},variant:"contained",color:"primary",className:a.button}," Realizar A\xe7\xe3o "))))},ce=function(e,a){return h.firestore().collection("carteira/"+e+"/ativo/"+a+"/operacao")},oe=function(e){return"/carteira/"+e+"/ativo"},le=Object(g.a)((function(e){return{carteiraContainer:{padding:"20px",marginTop:"40px"},container:{},operacoesContainer:{marginTop:"60px",padding:"20px"}}})),ie=[{path:"/",component:function(e){return r.a.createElement(r.a.Fragment,null,"Home")},exact:!0},{path:"/carteira",component:function(e){var a=L();Object(n.useEffect)((function(){var e=B().onSnapshot((function(e){var a=e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}));l(a),console.log(a)}));return function(){return e()}}),[]);var t=Object(n.useState)([]),c=Object(v.a)(t,2),o=c[0],l=c[1],i=Object(n.useState)(!1),u=Object(v.a)(i,2),m=u[0],s=u[1],p=Object(n.useState)({id:0,update:!1,fields:{nome:""}}),d=Object(v.a)(p,2),E=d[0],b=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{onClose:function(){return s(!m)},open:m,onSave:function(e){return a=e,void(E.update?(B().doc(E.id).set({title:a}).then((function(){return s(!1)})),b({id:0,update:!1,fields:{nome:""}})):B().add({title:a}).then((function(){return s(!1)})));var a},nome:E.fields.nome}),r.a.createElement(J,null),r.a.createElement(O.a,{bgColor:"green",className:a.topContainer},r.a.createElement(j.a,{className:a.container},r.a.createElement(C.a,{className:a.carteiraContainer,elevation:3},r.a.createElement(x.a,{variant:"h4",component:"h1"},"Suas Carteiras"),r.a.createElement(S.a,{container:!0,spacing:2},o&&o.map((function(e){return r.a.createElement(w,{key:e.id,title:e.title,id:e.id,delete:function(){return a=e.id,B().doc(a).delete();var a},update:function(){return a=e.id,void B().doc(a).get().then((function(e){console.log(e.data().title),b({id:a,update:!0,fields:{nome:e.data().title}}),s(!0)}));var a}})})),r.a.createElement(F,{texto:"Adicionar",open:function(){return s(!0)}}))))))},exact:!0},{path:"/carteira/:carteira",component:te,exact:!0},{path:"/carteira/:carteira/ativo",component:te,exact:!0},{path:"/carteira/:carteira/ativo/:ativo",component:function(e){var a=e.match.params.carteira,t=e.match.params.ativo,c=le(),o=Object(n.useState)([]),l=Object(v.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)([]),s=Object(v.a)(m,2),p=s[0],E=s[1];Object(n.useEffect)((function(){var e=h.firestore().collection("carteira/"+a+"/ativo/").doc(t).get().then((function(e){e.exists||alert("not exists"),u(e.data())}));return function(){return e}}),[]),Object(n.useEffect)((function(){var e=ce(a,t).onSnapshot((function(e){var a=e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}));E(a),console.log(a)}));return function(){return e}}),[]);var b=Object(n.useState)(!1),g=Object(v.a)(b,2),S=g[0],k=g[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null),r.a.createElement(re,{open:S,onClose:function(){return k(!1)},nome:i.nome,onSave:function(e){ce(a,t).add(e).then((function(){console.log(e),k(!1)}))},EhAtivoVariavel:i.ehAtivoVariavel}),r.a.createElement(j.a,{className:c.container},r.a.createElement(H.a,null,r.a.createElement(K.a,{component:d.b,to:"/carteira"},"Carteira"),r.a.createElement(K.a,{component:d.b,to:oe(a)}," Ativos")),r.a.createElement(N.a,{className:c.carteiraContainer},r.a.createElement(x.a,{variant:"h4",color:"primary"},"Ativo: ",i.nome),r.a.createElement(x.a,null,"true"==i.ehAtivoVariavel?"renda variavel":"renda fixa"),r.a.createElement(x.a,null,i.rotulo),r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){return k(!0)}}," Adicionar Opera\xe7\xe3o ")),r.a.createElement(C.a,{className:c.operacoesContainer},r.a.createElement(x.a,{variant:"h4",color:"primary"},"Opera\xe7\xf5es"),p&&p.map((function(e){return r.a.createElement(O.a,{key:e.id},r.a.createElement(A.a,null,"qtd ",e.qtd," | custo ",e.valor," | prazo ",e.prazo," | data ",e.data," | a\xe7\xe3o ",e.tipoOperacao," |"),r.a.createElement(y.a,{onClick:function(){return n=e.id,void ce(a,t).doc(n).delete().then((function(){alert("Opera\xe7\xe3o deletada!")}));var n},variant:"contained",color:"secondary"},"Deletar"))})))))},exact:!0}];Object(g.a)((function(e){return{appbar:{display:"block",position:"relative"}}}));var ue=function(){return ie.map((function(e,a){return r.a.createElement(p.a,{path:e.path,exact:e.exact,key:a,component:e.component})}))};var me=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(S.a,{container:!0},r.a.createElement(d.a,null,r.a.createElement(p.c,null,r.a.createElement(ue,null)))))};o.a.render(r.a.createElement(l.a,{store:s},r.a.createElement(me,null)),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.c2027ea7.chunk.js.map